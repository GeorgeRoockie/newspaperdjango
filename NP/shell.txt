u1 = User.objects.create_user(username='Maxim')
u2 = User.objects.create_user(username='Danil')
a1 = Author.objects.create(user=u1)
a2 = Author.objects.create(user=u2)
cat1 = Category.objects.create(name='Спорт')
cat2 = Category.objects.create(name='Искусство')
cat3 = Category.objects.create(name='Познавательное')
cat4 = Category.objects.create(name='Природа')
cat5 = Category.objects.create(name='Забавное')
cat6 = Category.objects.create(name='Горячее')
p1 = Post.objects.create(type='NE', title='Барселона-Реал Мадрид', text='Text', author=a1)
p2 = Post.objects.create(type='AR', title='Пингвины', text='Text', author=a2)
p3 = Post.objects.create(type='AR', title='Квадрат Малевича', text='Text', author=a1)
pc1 = PostCategory.objects.create(category=cat1, post=p1)
pc2 = PostCategory.objects.create(category=cat4, post=p2)
pc3 = PostCategory.objects.create(category=cat6, post=p1)
pc4 = PostCategory.objects.create(category=cat5, post=p2)
pc5 = PostCategory.objects.create(category=cat3, post=p3)
pc6 = PostCategory.objects.create(category=cat2, post=p3)
c1 = Comment.objects.create(text='texttext', post=p1, user=u2)
c2 = Comment.objects.create(text='texttext', post=p2, user=u1)
c3 = Comment.objects.create(text='texttext', post=p3, user=u2)
c4 = Comment.objects.create(text='texttext', post=p3, user=u1)
p1.like()
p2.dislike()
p3.like()
p3.like()
c1.like()
c2.dislike()
c3.like()
c3.like()
c4.dislike()
a1.update_rating()
a2.update_rating()
bu = Author.objects.order_by('-rating').first()
bu.author.user.username
bu.rating
Post.objects.all().order_by('-rating').values('time_creation', 'author__user__username', 'rating', 'title').first()
bp = Post.objects.order_by('-rating').first()
bp.preview()
Comment.objects.filter(post=p1).values('time_creation', 'user__username', 'rating', 'text')